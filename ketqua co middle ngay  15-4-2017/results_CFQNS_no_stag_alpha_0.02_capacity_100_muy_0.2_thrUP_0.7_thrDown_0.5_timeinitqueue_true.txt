
--------------------------------------
alpha = 0.02

close all
lamda = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0];
mean_waitting_time100 = [10.056716822217302, 7.456240020673146, 6.169510595989797, 5.7719483389939565, 5.593773484054724, 5.381770680113864, 5.127874869873682, 4.766707366209522, 4.362453776756746, 3.9680555790141323, 3.546367966892544, 3.154517234589817, 2.7987560346418388, 2.47670411193236, 2.17352597705798, 1.9243644461162162, 1.7035787514052432, 1.5166095809434428, 1.376958549720246, 1.245920935061034];
mean_response_time100 = [15.05055177553189, 12.45701330507518, 11.16856766194737, 10.771284111722656, 10.59229239588379, 10.38214767710447, 10.125613195954406, 9.765494309361888, 9.363350083551694, 8.966224912828906, 8.547015665396813, 8.154292235611267, 7.800657661587872, 7.477685833921126, 7.173441532889186, 6.924837396129192, 6.703949947715271, 6.5165441581334855, 6.376267471732332, 6.245511952644434];
mean_number_of_middle_server100 = [0.007606894146863138, 0.003993884289624752, 0.0027305022035398288, 0.0016583446262939832, 0.0010485293235987193, 6.828640084348153E-4, 4.893475482647773E-4, 3.52194981527864E-4, 2.562307614025194E-4, 2.0002060657541734E-4, 1.4625702944071964E-4, 1.137353776874952E-4, 8.525046907167416E-5, 6.701155469194055E-5, 4.8083008434972725E-5, 3.671724673581775E-5, 2.691442104720045E-5, 2.1005181262153202E-5, 1.61534788828576E-5, 1.2495516790193506E-5];
mean_number_of_setup_server100 = [2.2247470386131676, 3.141489187594338, 3.8436696760518907, 4.061630209151627, 4.043541323463246, 3.9495123272227373, 3.839734061014227, 3.6765466757552265, 3.4885641815834525, 3.2774447178371147, 3.077359345818392, 2.86118250659551, 2.642157895670167, 2.4322850450204463, 2.230378142815525, 2.044108662396984, 1.8689200752468318, 1.6973085504932541, 1.570347840016836, 1.4339625702315937];
mean_number_of_on_server100 = [4.026039626927683, 8.550935257209455, 13.19013147339399, 17.734759269083902, 22.19647860400863, 26.62046049392519, 30.951845307669714, 35.30415251810211, 39.64705056494646, 43.83577513936404, 48.110640113508865, 52.23955901829263, 56.22146316903969, 59.98989244741735, 63.64893848235218, 66.92104735885833, 69.95178716494188, 72.64200739643644, 74.8166811126733, 76.86205126978795];
mean_number_of_off_to_middle_server100 = [38.9288069396496, 56.0543, 69.15641932163103, 70.0578062740244, 66.88301237223908, 63.440721510145536, 59.90747753078995, 56.324900995623, 52.746165275940854, 49.25807828129391, 45.69767091411387, 42.18360935610859, 38.771773486427485, 35.552094245578125, 32.375607134428435, 29.52789378234482, 26.880337371713598, 24.521028105727847, 22.5904641103186, 20.78632766091592];
mean_number_turned_off100 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
max_number_of_queue100 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];
time_next100 = [10.275140754468882, 7.135937143209985, 5.781100085279776, 4.9835303045224775, 4.443476198219436, 4.047025006873552, 3.7404821215936384, 3.4960124494617206, 3.300250870654642, 3.1492604557292383, 3.0443307091035248, 2.9882272828806777, 2.9830797940159686, 3.0297892984731614, 3.127674853768533, 3.2737284774191284, 3.462083885788296, 3.684459532819013, 3.931494806279731, 4.19423515862113];
completed job100 = [3224805.0, 6839716.0, 1.0554105E7, 1.4189729E7, 1.7762527E7, 2.1294897E7, 2.4772732E7, 2.825058E7, 3.1712761E7, 3.5082786E7, 3.8483568E7, 4.1795953E7, 4.4960512E7, 4.79831E7, 5.0922117E7, 5.3531805E7, 5.5957672E7, 5.8116277E7, 5.9862621E7, 6.1495614E7];
left job100 = [776211.0, 1158277.0, 1447490.0, 1805202.0, 2180844.0, 2498555.0, 2744221.0, 2886470.0, 2937818.0, 2936558.0, 2858765.0, 2745580.0, 2605863.0, 2448955.0, 2274908.0, 2106967.0, 1947751.0, 1795764.0, 1676757.0, 1553737.0,]
job_lost_ratio100 = [0.0, 0.0, 1.6080910476154927E-5, 4.668669447329772E-4, 0.003211769250023391, 0.008776164845457488, 0.017437272047596136, 0.027099500358029823, 0.037612871317900164, 0.04948482903041034, 0.060699367798178354, 0.07235326904772382, 0.08523137164159839, 0.09941841732576114, 0.11345921484715056, 0.13043990337545294, 0.14855297937358222, 0.16786125658268014, 0.19033624678446776, 0.21184099525318384];
job_left_ratio100 = [0.19400347311782806, 0.14482095695757674, 0.12060813583527856, 0.11286088073777874, 0.10935182422269535, 0.10501019356081664, 0.09972837472230302, 0.09270210247920083, 0.08478409552694632, 0.07723852363154925, 0.06914861335957988, 0.06164089592515821, 0.054783720642996234, 0.04855949256876405, 0.0427638199692558, 0.037868682651730705, 0.03363676317501385, 0.029973340417496375, 0.02724689547560913, 0.024643187841854233];

_____________________________

plot(lamda,mean_waitting_time,'r',lamda,mean_waitting_time_no_middle,'-xb');
title('alpha = 0.02'); xlabel('lamda');ylabel('mean waitting time');
legend('with middle','no middle');
ylim([0 max(max(mean_waitting_time),max(mean_waitting_time_no_middle))*10/9]);figure(2);
plot(lamda,mean_number_of_middle_server,'r'); title('alpha = 0.02');xlabel('lamda');ylabel('mean number of middle server');
ylim([0 max(mean_number_of_middle_server)*10/9]);figure(3);
plot(lamda,mean_number_of_off_to_middle_server,'r'); title('alpha = 0.02');xlabel('lamda');ylabel('mean number off to middle server');
ylim([0 max(mean_number_of_off_to_middle_server)*10/9]);figure(4);
plot(lamda,mean_number_of_setup_server,'r',lamda,mean_number_of_setup_server_no_middle,'-xb');
title('alpha = 0.02'); xlabel('lamda');ylabel('mean number setup server');
legend('with middle','without middle');
ylim([0 max(max(mean_number_of_setup_server),max(mean_number_of_setup_server_no_middle))*10/9]);figure(5);
plot(lamda,mean_number_of_on_server,'r',lamda,mean_number_of_on_server_no_middle,'-xb');
title('alpha = 0.02'); xlabel('lamda');ylabel('mean number on server');
legend('with middle','without middle');
ylim([0 max(max(mean_number_of_on_server),max(mean_number_of_on_server_no_middle))*10/9]);
--------------------------------------
